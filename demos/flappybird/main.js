!function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="./",i(i.s=1)}([function(t,e){t.exports=PIXI},function(t,e,n){"use strict";n.r(e);var i=2*Math.min(innerWidth,450),o=2*Math.min(innerHeight,750),a=.5*i,s=.5*o,h=n(0),u=[{name:"bg",url:"./assets/bg.png"},{name:"ground",url:"./assets/ground.png"},{name:"ready",url:"./assets/ready.png"},{name:"over",url:"./assets/over.png"},{name:"fnum",url:"./assets/fnum.fnt"},{name:"bird",url:"./assets/bird.png"},{name:"holdback",url:"./assets/holdback.png"}];function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=f(this,l(e).call(this,h.Texture.from("bg")))).scale.set(i/t.width,o/t.height),t}var t,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,h["Sprite"]),t=e,(n=[{key:"onUpdate",value:function(){}}])&&c(t.prototype,n),r&&c(t,r),e}();function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=function(){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=v(this,b(e).call(this,h.Texture.from("ground"))))._scaleX=(120+i)/t.width,t._moveRange=60*t._scaleX,t._moveUnit=t._moveRange/60,t.draw(),t}var t,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,h["Sprite"]),t=e,(n=[{key:"draw",value:function(){this.scale.set(this._scaleX,1),this.y=o-this.height}},{key:"onUpdate",value:function(t){this.x<=-this._moveRange?this.x=0:this.x-=this._moveUnit*t*2}},{key:"onResize",value:function(){}}])&&g(t.prototype,n),r&&g(t,r),e}(),w={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},M={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},_=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],O={CSS:{},springs:{}};function P(t,e,n){return Math.min(Math.max(t,e),n)}function A(t,e){return-1<t.indexOf(e)}function k(t,e){return t.apply(null,e)}var S={arr:function(t){return Array.isArray(t)},obj:function(t){return A(Object.prototype.toString.call(t),"Object")},pth:function(t){return S.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||S.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return S.hex(t)||S.rgb(t)||S.hsl(t)},key:function(t){return!w.hasOwnProperty(t)&&!M.hasOwnProperty(t)&&"targets"!==t&&"keyframes"!==t}};function C(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map(function(t){return parseFloat(t)}):[]}function j(i,n){var t=C(i),e=P(S.und(t[0])?1:t[0],.1,100),r=P(S.und(t[1])?100:t[1],.1,100),o=P(S.und(t[2])?10:t[2],.1,100),a=P(S.und(t[3])?0:t[3],.1,100),s=Math.sqrt(r/e),u=o/(2*Math.sqrt(r*e)),h=u<1?s*Math.sqrt(1-u*u):0,c=1,f=u<1?(u*s-a)/h:-a+s;function l(t){var e=n?n*t/1e3:t;return e=u<1?Math.exp(-e*u*s)*(c*Math.cos(h*e)+f*Math.sin(h*e)):(c+f*e)*Math.exp(-e*s),0===t||1===t?t:1-e}return n?l:function(){var t=O.springs[i];if(t)return t;for(var e=0,n=0;;)if(1===l(e+=1/6)){if(16<=++n)break}else n=0;var r=e*(1/6)*1e3;return O.springs[i]=r}}function T(e){return void 0===e&&(e=10),function(t){return Math.round(t*e)*(1/e)}}var H=function(o,e,a,n){if(0<=o&&o<=1&&0<=a&&a<=1){var s=new Float32Array(11);if(o!==e||a!==n)for(var t=0;t<11;++t)s[t]=R(.1*t,o,a);return function(t){return o===e&&a===n||0===t||1===t?t:R(r(t),e,n)}}function r(t){for(var e=0,n=1;10!==n&&s[n]<=t;++n)e+=.1;var r=e+(t-s[--n])/(s[n+1]-s[n])*.1,i=W(r,o,a);return.001<=i?function(t,e,n,r){for(var i=0;i<4;++i){var o=W(e,n,r);if(0===o)return e;e-=(R(e,n,r)-t)/o}return e}(t,r,o,a):0===i?r:function(t,e,n,r,i){for(var o,a,s=0;0<(o=R(a=e+(n-e)/2,r,i)-t)?n=a:e=a,1e-7<Math.abs(o)&&++s<10;);return a}(t,e,e+.1,o,a)}};function B(t,e){return 1-3*e+3*t}function E(t,e){return 3*e-6*t}function L(t){return 3*t}function R(t,e,n){return((B(e,n)*t+E(e,n))*t+L(e))*t}function W(t,e,n){return 3*B(e,n)*t*t+2*E(e,n)*t+L(e)}var F,I,U=(F={linear:function(){return function(t){return t}}},I={Sine:function(){return function(t){return 1-Math.cos(t*Math.PI/2)}},Circ:function(){return function(t){return 1-Math.sqrt(1-t*t)}},Back:function(){return function(t){return t*t*(3*t-2)}},Bounce:function(){return function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}},Elastic:function(t,e){void 0===t&&(t=1),void 0===e&&(e=.5);var n=P(t,1,10),r=P(e,.1,2);return function(t){return 0===t||1===t?t:-n*Math.pow(2,10*(t-1))*Math.sin((t-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(t,e){I[t]=function(){return function(t){return Math.pow(t,e+2)}}}),Object.keys(I).forEach(function(t){var r=I[t];F["easeIn"+t]=r,F["easeOut"+t]=function(e,n){return function(t){return 1-r(e,n)(1-t)}},F["easeInOut"+t]=function(e,n){return function(t){return t<.5?r(e,n)(2*t)/2:1-r(e,n)(-2*t+2)/2}}}),F);function Y(t,e){if(S.fnc(t))return t;var n=t.split("(")[0],r=U[n],i=C(t);switch(n){case"spring":return j(t,e);case"cubicBezier":return k(H,i);case"steps":return k(T,i);default:return k(r,i)}}function X(t){try{return document.querySelectorAll(t)}catch(t){return}}function D(t,e){for(var n=t.length,r=2<=arguments.length?e:void 0,i=[],o=0;o<n;o++)if(o in t){var a=t[o];e.call(r,a,o,t)&&i.push(a)}return i}function q(t){return t.reduce(function(t,e){return t.concat(S.arr(e)?q(e):e)},[])}function N(t){return S.arr(t)?t:(S.str(t)&&(t=X(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function G(t,e){return t.some(function(t){return t===e})}function $(t){var e={};for(var n in t)e[n]=t[n];return e}function z(t,e){var n=$(t);for(var r in t)n[r]=e.hasOwnProperty(r)?e[r]:t[r];return n}function V(t,e){var n=$(t);for(var r in e)n[r]=S.und(t[r])?e[r]:t[r];return n}function Z(t){return S.rgb(t)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e=t))?"rgba("+n[1]+",1)":e:S.hex(t)?(r=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,n,r){return e+e+n+n+r+r}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),"rgba("+parseInt(i[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+",1)"):S.hsl(t)?function(t){var e,n,r,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),o=parseInt(i[1],10)/360,a=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100,u=i[4]||1;function h(t,e,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(0==a)e=n=r=s;else{var c=s<.5?s*(1+a):s+a-s*a,f=2*s-c;e=h(f,c,o+1/3),n=h(f,c,o),r=h(f,c,o-1/3)}return"rgba("+255*e+","+255*n+","+255*r+","+u+")"}(t):void 0;var e,n,r,i}function Q(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function J(t,e){return S.fnc(t)?t(e.target,e.id,e.total):t}function K(t,e){return t.getAttribute(e)}function tt(t,e,n){if(G([n,"deg","rad","turn"],Q(e)))return e;var r=O.CSS[e+n];if(!S.und(r))return r;var i=document.createElement(t.tagName),o=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;o.appendChild(i),i.style.position="absolute",i.style.width=100+n;var a=100/i.offsetWidth;o.removeChild(i);var s=a*parseFloat(e);return O.CSS[e+n]=s}function et(t,e,n){if(e in t.style){var r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=t.style[e]||getComputedStyle(t).getPropertyValue(r)||"0";return n?tt(t,i,n):i}}function nt(t,e){return S.dom(t)&&!S.inp(t)&&(K(t,e)||S.svg(t)&&t[e])?"attribute":S.dom(t)&&G(_,e)?"transform":S.dom(t)&&"transform"!==e&&et(t,e)?"css":null!=t[e]?"object":void 0}function rt(t){if(S.dom(t)){for(var e,n=t.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map;e=r.exec(n);)i.set(e[1],e[2]);return i}}function it(t,e,n,r){var i,o=A(e,"scale")?1:0+(A(i=e,"translate")||"perspective"===i?"px":A(i,"rotate")||A(i,"skew")?"deg":void 0),a=rt(t).get(e)||o;return n&&(n.transforms.list.set(e,a),n.transforms.last=e),r?tt(t,a,r):a}function ot(t,e,n,r){switch(nt(t,e)){case"transform":return it(t,e,r,n);case"css":return et(t,e,n);case"attribute":return K(t,e);default:return t[e]||0}}function at(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var r=Q(t)||0,i=parseFloat(e),o=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return i+o+r;case"-":return i-o+r;case"*":return i*o+r}}function st(t,e){if(S.col(t))return Z(t);if(/\s/g.test(t))return t;var n=Q(t),r=n?t.substr(0,t.length-n.length):t;return e?r+e:r}function ut(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ht(t){for(var e,n=t.points,r=0,i=0;i<n.numberOfItems;i++){var o=n.getItem(i);0<i&&(r+=ut(e,o)),e=o}return r}function ct(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return o=t,2*Math.PI*K(o,"r");case"rect":return 2*K(i=t,"width")+2*K(i,"height");case"line":return ut({x:K(r=t,"x1"),y:K(r,"y1")},{x:K(r,"x2"),y:K(r,"y2")});case"polyline":return ht(t);case"polygon":return n=(e=t).points,ht(e)+ut(n.getItem(n.numberOfItems-1),n.getItem(0))}var e,n,r,i,o}function ft(t,e){var n=e||{},r=n.el||function(t){for(var e=t.parentNode;S.svg(e)&&S.svg(e.parentNode);)e=e.parentNode;return e}(t),i=r.getBoundingClientRect(),o=K(r,"viewBox"),a=i.width,s=i.height,u=n.viewBox||(o?o.split(" "):[0,0,a,s]);return{el:r,viewBox:u,x:+u[0],y:+u[1],w:a/u[2],h:s/u[3]}}function lt(n,r){function t(t){void 0===t&&(t=0);var e=1<=r+t?r+t:0;return n.el.getPointAtLength(e)}var e=ft(n.el,n.svg),i=t(),o=t(-1),a=t(1);switch(n.property){case"x":return(i.x-e.x)*e.w;case"y":return(i.y-e.y)*e.h;case"angle":return 180*Math.atan2(a.y-o.y,a.x-o.x)/Math.PI}}function dt(t,e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=st(S.pth(t)?t.totalLength:t,e)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:S.str(t)||e?r.split(n):[]}}function yt(t){return D(t?q(S.arr(t)?t.map(N):N(t)):[],function(t,e,n){return n.indexOf(t)===e})}function pt(t){var n=yt(t);return n.map(function(t,e){return{target:t,id:e,total:n.length,transforms:{list:rt(t)}}})}function gt(t,r){var e=$(r);if(/^spring/.test(e.easing)&&(e.duration=j(e.easing)),S.arr(t)){var n=t.length;2===n&&!S.obj(t[0])?t={value:t}:S.fnc(r.duration)||(e.duration=r.duration/n)}var i=S.arr(t)?t:[t];return i.map(function(t,e){var n=S.obj(t)&&!S.pth(t)?t:{value:t};return S.und(n.delay)&&(n.delay=e?0:r.delay),S.und(n.endDelay)&&(n.endDelay=e===i.length-1?r.endDelay:0),n}).map(function(t){return V(t,e)})}function vt(t,e){var n=[],r=e.keyframes;for(var i in r&&(e=V(function(e){for(var n=D(q(e.map(function(t){return Object.keys(t)})),function(t){return S.key(t)}).reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[]),i={},t=function(t){var r=n[t];i[r]=e.map(function(t){var e={};for(var n in t)S.key(n)?n==r&&(e.value=t[n]):e[n]=t[n];return e})},r=0;r<n.length;r++)t(r);return i}(r),e)),e)S.key(i)&&n.push({name:i,tweens:gt(e[i],t)});return n}function bt(c,f){var l;return c.tweens.map(function(t){var e=function(t,e){var n={};for(var r in t){var i=J(t[r],e);S.arr(i)&&1===(i=i.map(function(t){return J(t,e)})).length&&(i=i[0]),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(t,f),n=e.value,r=S.arr(n)?n[1]:n,i=Q(r),o=ot(f.target,c.name,i,f),a=l?l.to.original:o,s=S.arr(n)?n[0]:a,u=Q(s)||Q(o),h=i||u;return S.und(r)&&(r=a),e.from=dt(s,h),e.to=dt(at(r,s),h),e.start=l?l.end:0,e.end=e.start+e.delay+e.duration+e.endDelay,e.easing=Y(e.easing,e.duration),e.isPath=S.pth(n),e.isColor=S.col(e.from.original),e.isColor&&(e.round=1),l=e})}var mt={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,r,i){if(r.list.set(e,n),e===r.last||i){var o="";r.list.forEach(function(t,e){o+=e+"("+t+") "}),t.style.transform=o}}};function xt(t,u){pt(t).forEach(function(t){for(var e in u){var n=J(u[e],t),r=t.target,i=Q(n),o=ot(r,e,i,t),a=at(st(n,i||Q(o)),o),s=nt(r,e);mt[s](r,e,a,t.transforms,!0)}})}function _t(t,n){return D(q(t.map(function(e){return n.map(function(t){return function(t,e){var n=nt(t.target,e.name);if(n){var r=bt(e,t),i=r[r.length-1];return{type:n,property:e.name,animatable:t,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}(e,t)})})),function(t){return!S.und(t)})}function Ot(t,e){function n(t){return t.timelineOffset?t.timelineOffset:0}var r=t.length,i={};return i.duration=r?Math.max.apply(Math,t.map(function(t){return n(t)+t.duration})):e.duration,i.delay=r?Math.min.apply(Math,t.map(function(t){return n(t)+t.delay})):e.delay,i.endDelay=r?i.duration-Math.max.apply(Math,t.map(function(t){return n(t)+t.duration-t.endDelay})):e.endDelay,i}var wt=0;var At,Mt=[],Pt=[],kt=St;function St(){At=requestAnimationFrame(Ct)}function Ct(t){var e=Mt.length;if(e){for(var n=0;n<e;){var r=Mt[n];if(r.paused){var i=Mt.indexOf(r);-1<i&&(Mt.splice(i,1),e=Mt.length)}else r.tick(t);n++}St()}else At=cancelAnimationFrame(At)}function jt(t){void 0===t&&(t={});var o,a=0,s=0,u=0,h=0,c=null;function f(t){var e=window.Promise&&new Promise(function(t){return c=t});return t.finished=e}var e,n,r,i,l,d,y,p,A=(n=z(w,e=t),r=z(M,e),i=vt(r,e),l=pt(e.targets),d=_t(l,i),y=Ot(d,r),p=wt,wt++,V(n,{id:p,children:[],animatables:l,animations:d,duration:y.duration,delay:y.delay,endDelay:y.endDelay}));f(A);function g(){var t=A.direction;"alternate"!==t&&(A.direction="normal"!==t?"normal":"reverse"),A.reversed=!A.reversed,o.forEach(function(t){return t.reversed=A.reversed})}function v(t){return A.reversed?A.duration-t:t}function b(){a=0,s=v(A.currentTime)*(1/jt.speed)}function m(t,e){e&&e.seek(t-e.timelineOffset)}function x(e){for(var t=0,n=A.animations,r=n.length;t<r;){var i=n[t],o=i.animatable,a=i.tweens,s=a.length-1,u=a[s];s&&(u=D(a,function(t){return e<t.end})[0]||u);for(var h=P(e-u.start-u.delay,0,u.duration)/u.duration,c=isNaN(h)?1:u.easing(h),f=u.to.strings,l=u.round,d=[],y=u.to.numbers.length,p=void 0,g=0;g<y;g++){var v=void 0,b=u.to.numbers[g],m=u.from.numbers[g]||0;v=u.isPath?lt(u.value,c*b):m+c*(b-m),l&&(u.isColor&&2<g||(v=Math.round(v*l)/l)),d.push(v)}var x=f.length;if(x){p=f[0];for(var _=0;_<x;_++){f[_];var O=f[_+1],w=d[_];isNaN(w)||(p+=O?w+O:w+" ")}}else p=d[0];mt[i.type](o.target,i.property,p,o.transforms),i.currentValue=p,t++}}function _(t){A[t]&&!A.passThrough&&A[t](A)}function O(t){var e=A.duration,n=A.delay,r=e-A.endDelay,i=v(t);A.progress=P(i/e*100,0,100),A.reversePlayback=i<A.currentTime,o&&function(t){if(A.reversePlayback)for(var e=h;e--;)m(t,o[e]);else for(var n=0;n<h;n++)m(t,o[n])}(i),!A.began&&0<A.currentTime&&(A.began=!0,_("begin")),!A.loopBegan&&0<A.currentTime&&(A.loopBegan=!0,_("loopBegin")),i<=n&&0!==A.currentTime&&x(0),(r<=i&&A.currentTime!==e||!e)&&x(e),n<i&&i<r?(A.changeBegan||(A.changeBegan=!0,A.changeCompleted=!1,_("changeBegin")),_("change"),x(i)):A.changeBegan&&(A.changeCompleted=!0,A.changeBegan=!1,_("changeComplete")),A.currentTime=P(i,0,e),A.began&&_("update"),e<=t&&(s=0,A.remaining&&!0!==A.remaining&&A.remaining--,A.remaining?(a=u,_("loopComplete"),A.loopBegan=!1,"alternate"===A.direction&&g()):(A.paused=!0,A.completed||(A.completed=!0,_("loopComplete"),_("complete"),!A.passThrough&&"Promise"in window&&(c(),f(A)))))}return A.reset=function(){var t=A.direction;A.passThrough=!1,A.currentTime=0,A.progress=0,A.paused=!0,A.began=!1,A.loopBegan=!1,A.changeBegan=!1,A.completed=!1,A.changeCompleted=!1,A.reversePlayback=!1,A.reversed="reverse"===t,A.remaining=A.loop,o=A.children;for(var e=h=o.length;e--;)A.children[e].reset();(A.reversed&&!0!==A.loop||"alternate"===t&&1===A.loop)&&A.remaining++,x(A.reversed?A.duration:0)},A.set=function(t,e){return xt(t,e),A},A.tick=function(t){O(((u=t)+(s-(a=a||u)))*jt.speed)},A.seek=function(t){O(v(t))},A.pause=function(){A.paused=!0,b()},A.play=function(){A.paused&&(A.completed&&A.reset(),A.paused=!1,Mt.push(A),b(),At||kt())},A.reverse=function(){g(),b()},A.restart=function(){A.reset(),A.play()},A.reset(),A.autoplay&&A.play(),A}function Tt(t,e){for(var n=e.length;n--;)G(t,e[n].animatable.target)&&e.splice(n,1)}"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){document.hidden?(Mt.forEach(function(t){return t.pause()}),Pt=Mt.slice(0),jt.running=Mt=[]):Pt.forEach(function(t){return t.play()})}),jt.version="3.1.0",jt.speed=1,jt.running=Mt,jt.remove=function(t){for(var e=yt(t),n=Mt.length;n--;){var r=Mt[n],i=r.animations,o=r.children;Tt(e,i);for(var a=o.length;a--;){var s=o[a],u=s.animations;Tt(e,u),u.length||s.children.length||o.splice(a,1)}i.length||o.length||r.pause()}},jt.get=ot,jt.set=xt,jt.convertPx=tt,jt.path=function(t,e){var n=S.str(t)?X(t)[0]:t,r=e||100;return function(t){return{property:t,el:n,svg:ft(n),totalLength:ct(n)*(r/100)}}},jt.setDashoffset=function(t){var e=ct(t);return t.setAttribute("stroke-dasharray",e),e},jt.stagger=function(t,e){void 0===e&&(e={});var h=e.direction||"normal",c=e.easing?Y(e.easing):null,f=e.grid,l=e.axis,d=e.from||0,y="first"===d,p="center"===d,g="last"===d,v=S.arr(t),b=v?parseFloat(t[0]):parseFloat(t),m=v?parseFloat(t[1]):0,x=Q(v?t[1]:t)||0,_=e.start||0+(v?b:0),O=[],w=0;return function(t,e,n){if(y&&(d=0),p&&(d=(n-1)/2),g&&(d=n-1),!O.length){for(var r=0;r<n;r++){if(f){var i=p?(f[0]-1)/2:d%f[0],o=p?(f[1]-1)/2:Math.floor(d/f[0]),a=i-r%f[0],s=o-Math.floor(r/f[0]),u=Math.sqrt(a*a+s*s);"x"===l&&(u=-a),"y"===l&&(u=-s),O.push(u)}else O.push(Math.abs(d-r));w=Math.max.apply(Math,O)}c&&(O=O.map(function(t){return c(t/w)*w})),"reverse"===h&&(O=O.map(function(t){return l?t<0?-1*t:-t:Math.abs(w-t)}))}return _+(v?(m-b)/w:b)*(Math.round(100*O[e])/100)+x}},jt.timeline=function(c){void 0===c&&(c={});var f=jt(c);return f.duration=0,f.add=function(t,e){var n=Mt.indexOf(f),r=f.children;function i(t){t.passThrough=!0}-1<n&&Mt.splice(n,1);for(var o=0;o<r.length;o++)i(r[o]);var a=V(t,z(M,c));a.targets=a.targets||c.targets;var s=f.duration;a.autoplay=!1,a.direction=f.direction,a.timelineOffset=S.und(e)?s:at(e,s),i(f),f.seek(a.timelineOffset);var u=jt(a);i(u),r.push(u);var h=Ot(r,c);return f.delay=h.delay,f.endDelay=h.endDelay,f.duration=h.duration,f.seek(0),f.reset(),f.autoplay&&f.play(),f},f},jt.easing=Y,jt.penner=U,jt.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};var Ht=jt;function Bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Et(){var t=arguments.length<=0||void 0===arguments[0]?PIXI:arguments[0];if(!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Et),void 0===t)throw new Error("Please assign a rendering engine in the constructor before using bump.js");this.renderer="pixi"}var Lt={bump:new(function(t,e,n){return e&&Bt(t.prototype,e),n&&Bt(t,n),t}(Et,[{key:"addCollisionProperties",value:function(t){"pixi"===this.renderer&&(void 0===t.gx&&Object.defineProperty(t,"gx",{get:function(){return t.getGlobalPosition().x},enumerable:!0,configurable:!0}),void 0===t.gy&&Object.defineProperty(t,"gy",{get:function(){return t.getGlobalPosition().y},enumerable:!0,configurable:!0}),void 0===t.centerX&&Object.defineProperty(t,"centerX",{get:function(){return t.x+t.width/2},enumerable:!0,configurable:!0}),void 0===t.centerY&&Object.defineProperty(t,"centerY",{get:function(){return t.y+t.height/2},enumerable:!0,configurable:!0}),void 0===t.halfWidth&&Object.defineProperty(t,"halfWidth",{get:function(){return t.width/2},enumerable:!0,configurable:!0}),void 0===t.halfHeight&&Object.defineProperty(t,"halfHeight",{get:function(){return t.height/2},enumerable:!0,configurable:!0}),void 0===t.xAnchorOffset&&Object.defineProperty(t,"xAnchorOffset",{get:function(){return void 0!==t.anchor?t.width*t.anchor.x:0},enumerable:!0,configurable:!0}),void 0===t.yAnchorOffset&&Object.defineProperty(t,"yAnchorOffset",{get:function(){return void 0!==t.anchor?t.height*t.anchor.y:0},enumerable:!0,configurable:!0}),t.circular&&void 0===t.radius&&Object.defineProperty(t,"radius",{get:function(){return t.width/2},enumerable:!0,configurable:!0})),t._bumpPropertiesAdded=!0}},{key:"hitTestPoint",value:function(t,e){e._bumpPropertiesAdded||this.addCollisionProperties(e);var n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0;if("rectangle"==(n=e.radius?"circle":"rectangle")&&(r=e.x-e.xAnchorOffset,i=e.x+e.width-e.xAnchorOffset,o=e.y-e.yAnchorOffset,a=e.y+e.height-e.yAnchorOffset,s=t.x>r&&t.x<i&&t.y>o&&t.y<a),"circle"===n){var u=t.x-e.x-e.width/2+e.xAnchorOffset,h=t.y-e.y-e.height/2+e.yAnchorOffset;s=Math.sqrt(u*u+h*h)<e.radius}return s}},{key:"hitTestCircle",value:function(t,e,n){var r=!(arguments.length<=2||void 0===n)&&n;t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e);var i=void 0,o=void 0;return o=r?(i=e.gx+e.width/2-e.xAnchorOffset-(t.gx+t.width/2-t.xAnchorOffset),e.gy+e.width/2-e.yAnchorOffset-(t.gy+t.width/2-t.yAnchorOffset)):(i=e.x+e.width/2-e.xAnchorOffset-(t.x+t.width/2-t.xAnchorOffset),e.y+e.width/2-e.yAnchorOffset-(t.y+t.width/2-t.yAnchorOffset)),Math.sqrt(i*i+o*o)<t.radius+e.radius}},{key:"circleCollision",value:function(t,e,n,r){var i=!(arguments.length<=2||void 0===n)&&n,o=!(arguments.length<=3||void 0===r)&&r;t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e);var a,s,u=void 0,h=void 0,c=void 0,f=void 0,l=void 0,d={},y=!1;return c=o?(h=e.gx+e.width/2-e.xAnchorOffset-(t.gx+t.width/2-t.xAnchorOffset),e.gy+e.width/2-e.yAnchorOffset-(t.gy+t.width/2-t.yAnchorOffset)):(h=e.x+e.width/2-e.xAnchorOffset-(t.x+t.width/2-t.xAnchorOffset),e.y+e.width/2-e.yAnchorOffset-(t.y+t.width/2-t.yAnchorOffset)),(a=Math.sqrt(h*h+c*c))<(s=t.radius+e.radius)&&(y=!0,u=s-a,u+=.3,f=h/a,l=c/a,t.x-=u*f,t.y-=u*l,i&&(d.x=c,d.y=-h,this.bounceOffSurface(t,d))),y}},{key:"movingCircleCollision",value:function(t,e,n){var r=!(arguments.length<=2||void 0===n)&&n;t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e);var i,o=void 0,a=void 0,s=void 0,u={},h={},c={},f={},l={},d=!1;if(t.mass=t.mass||1,e.mass=e.mass||1,r?(u.vx=e.gx+e.radius-e.xAnchorOffset-(t.gx+t.radius-t.xAnchorOffset),u.vy=e.gy+e.radius-e.yAnchorOffset-(t.gy+t.radius-t.yAnchorOffset)):(u.vx=e.x+e.radius-e.xAnchorOffset-(t.x+t.radius-t.xAnchorOffset),u.vy=e.y+e.radius-e.yAnchorOffset-(t.y+t.radius-t.yAnchorOffset)),u.magnitude=Math.sqrt(u.vx*u.vx+u.vy*u.vy),i=t.radius+e.radius,u.magnitude<i){d=!0,o=i-u.magnitude,o+=.3,u.dx=u.vx/u.magnitude,u.dy=u.vy/u.magnitude,u.vxHalf=Math.abs(u.dx*o/2),u.vyHalf=Math.abs(u.dy*o/2),a=t.x>e.x?1:-1,s=t.y>e.y?1:-1,t.x=t.x+u.vxHalf*a,t.y=t.y+u.vyHalf*s,e.x=e.x+u.vxHalf*-a,e.y=e.y+u.vyHalf*-s,u.lx=u.vy,u.ly=-u.vx;var y=t.vx*u.dx+t.vy*u.dy;h.x=y*u.dx,h.y=y*u.dy;var p=t.vx*(u.lx/u.magnitude)+t.vy*(u.ly/u.magnitude);c.x=p*(u.lx/u.magnitude),c.y=p*(u.ly/u.magnitude);var g=e.vx*u.dx+e.vy*u.dy;f.x=g*u.dx,f.y=g*u.dy;var v=e.vx*(u.lx/u.magnitude)+e.vy*(u.ly/u.magnitude);l.x=v*(u.lx/u.magnitude),l.y=v*(u.ly/u.magnitude),t.bounce={},t.bounce.x=c.x+f.x,t.bounce.y=c.y+f.y,e.bounce={},e.bounce.x=h.x+l.x,e.bounce.y=h.y+l.y,t.vx=t.bounce.x/t.mass,t.vy=t.bounce.y/t.mass,e.vx=e.bounce.x/e.mass,e.vy=e.bounce.y/e.mass}return d}},{key:"multipleCircleCollision",value:function(t,e){for(var n=!(arguments.length<=1||void 0===e)&&e,r=0;r<t.length;r++)for(var i=t[r],o=r+1;o<t.length;o++){var a=t[o];this.movingCircleCollision(i,a,n)}}},{key:"rectangleCollision",value:function(t,e,n,r){var i=!(arguments.length<=2||void 0===n)&&n,o=arguments.length<=3||void 0===r||r;t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e);var a,s,u=void 0,h=void 0,c=void 0,f=void 0,l=void 0;return l=o?(f=t.gx+Math.abs(t.halfWidth)-t.xAnchorOffset-(e.gx+Math.abs(e.halfWidth)-e.xAnchorOffset),t.gy+Math.abs(t.halfHeight)-t.yAnchorOffset-(e.gy+Math.abs(e.halfHeight)-e.yAnchorOffset)):(f=t.x+Math.abs(t.halfWidth)-t.xAnchorOffset-(e.x+Math.abs(e.halfWidth)-e.xAnchorOffset),t.y+Math.abs(t.halfHeight)-t.yAnchorOffset-(e.y+Math.abs(e.halfHeight)-e.yAnchorOffset)),a=Math.abs(t.halfWidth)+Math.abs(e.halfWidth),s=Math.abs(t.halfHeight)+Math.abs(e.halfHeight),Math.abs(f)<a&&Math.abs(l)<s&&(h=a-Math.abs(f),(c=s-Math.abs(l))<=h?(0<l?(u="top",t.y=t.y+c):(u="bottom",t.y=t.y-c),i&&(t.vy*=-1)):(0<f?(u="left",t.x=t.x+h):(u="right",t.x=t.x-h),i&&(t.vx*=-1))),u}},{key:"hitTestRectangle",value:function(t,e,n){var r=!(arguments.length<=2||void 0===n)&&n;t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e);var i,o,a=void 0,s=void 0;return s=r?(a=t.gx+Math.abs(t.halfWidth)-t.xAnchorOffset-(e.gx+Math.abs(e.halfWidth)-e.xAnchorOffset),t.gy+Math.abs(t.halfHeight)-t.yAnchorOffset-(e.gy+Math.abs(e.halfHeight)-e.yAnchorOffset)):(a=t.x+Math.abs(t.halfWidth)-t.xAnchorOffset-(e.x+Math.abs(e.halfWidth)-e.xAnchorOffset),t.y+Math.abs(t.halfHeight)-t.yAnchorOffset-(e.y+Math.abs(e.halfHeight)-e.yAnchorOffset)),i=Math.abs(t.halfWidth)+Math.abs(e.halfWidth),o=Math.abs(t.halfHeight)+Math.abs(e.halfHeight),Math.abs(a)<i&&Math.abs(s)<o}},{key:"hitTestCircleRectangle",value:function(t,e,n){var r=!(arguments.length<=2||void 0===n)&&n;e._bumpPropertiesAdded||this.addCollisionProperties(e),t._bumpPropertiesAdded||this.addCollisionProperties(t);var i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,h=void 0;if(h=r?(a=t.gx,s=t.gy,u=e.gx,e.gy):(a=t.x,s=t.y,u=e.x,e.y),"topMiddle"==(i=s-t.yAnchorOffset<h-Math.abs(e.halfHeight)-e.yAnchorOffset?a-t.xAnchorOffset<u-1-Math.abs(e.halfWidth)-e.xAnchorOffset?"topLeft":a-t.xAnchorOffset>u+1+Math.abs(e.halfWidth)-e.xAnchorOffset?"topRight":"topMiddle":s-t.yAnchorOffset>h+Math.abs(e.halfHeight)-e.yAnchorOffset?a-t.xAnchorOffset<u-1-Math.abs(e.halfWidth)-e.xAnchorOffset?"bottomLeft":a-t.xAnchorOffset>u+1+Math.abs(e.halfWidth)-e.xAnchorOffset?"bottomRight":"bottomMiddle":a-t.xAnchorOffset<u-Math.abs(e.halfWidth)-e.xAnchorOffset?"leftMiddle":"rightMiddle")||"bottomMiddle"===i||"leftMiddle"===i||"rightMiddle"===i)o=this.hitTestRectangle(t,e,r);else{var c={};switch(i){case"topLeft":c.x=u-e.xAnchorOffset,c.y=h-e.yAnchorOffset;break;case"topRight":c.x=u+e.width-e.xAnchorOffset,c.y=h-e.yAnchorOffset;break;case"bottomLeft":c.x=u-e.xAnchorOffset,c.y=h+e.height-e.yAnchorOffset;break;case"bottomRight":c.x=u+e.width-e.xAnchorOffset,c.y=h+e.height-e.yAnchorOffset}o=this.hitTestCirclePoint(t,c,r)}return o?i:o}},{key:"hitTestCirclePoint",value:function(t,e,n){var r=!(arguments.length<=2||void 0===n)&&n;return t._bumpPropertiesAdded||this.addCollisionProperties(t),e.diameter=1,e.width=e.diameter,e.radius=.5,e.centerX=e.x,e.centerY=e.y,e.gx=e.x,e.gy=e.y,e.xAnchorOffset=0,e.yAnchorOffset=0,e._bumpPropertiesAdded=!0,this.hitTestCircle(t,e,r)}},{key:"circleRectangleCollision",value:function(t,e,n,r){var i=!(arguments.length<=2||void 0===n)&&n,o=!(arguments.length<=3||void 0===r)&&r;e._bumpPropertiesAdded||this.addCollisionProperties(e),t._bumpPropertiesAdded||this.addCollisionProperties(t);var a=void 0,s=void 0,u=void 0,h=void 0,c=void 0,f=void 0;if(f=o?(u=t.gx,h=t.gy,c=e.gx,e.gy):(u=t.x,h=t.y,c=e.x,e.y),"topMiddle"==(a=h-t.yAnchorOffset<f-Math.abs(e.halfHeight)-e.yAnchorOffset?u-t.xAnchorOffset<c-1-Math.abs(e.halfWidth)-e.xAnchorOffset?"topLeft":u-t.xAnchorOffset>c+1+Math.abs(e.halfWidth)-e.xAnchorOffset?"topRight":"topMiddle":h-t.yAnchorOffset>f+Math.abs(e.halfHeight)-e.yAnchorOffset?u-t.xAnchorOffset<c-1-Math.abs(e.halfWidth)-e.xAnchorOffset?"bottomLeft":u-t.xAnchorOffset>c+1+Math.abs(e.halfWidth)-e.xAnchorOffset?"bottomRight":"bottomMiddle":u-t.xAnchorOffset<c-Math.abs(e.halfWidth)-e.xAnchorOffset?"leftMiddle":"rightMiddle")||"bottomMiddle"===a||"leftMiddle"===a||"rightMiddle"===a)s=this.rectangleCollision(t,e,i,o);else{var l={};switch(a){case"topLeft":l.x=c-e.xAnchorOffset,l.y=f-e.yAnchorOffset;break;case"topRight":l.x=c+e.width-e.xAnchorOffset,l.y=f-e.yAnchorOffset;break;case"bottomLeft":l.x=c-e.xAnchorOffset,l.y=f+e.height-e.yAnchorOffset;break;case"bottomRight":l.x=c+e.width-e.xAnchorOffset,l.y=f+e.height-e.yAnchorOffset}s=this.circlePointCollision(t,l,i,o)}return s?a:s}},{key:"circlePointCollision",value:function(t,e,n,r){var i=!(arguments.length<=2||void 0===n)&&n,o=!(arguments.length<=3||void 0===r)&&r;return t._bumpPropertiesAdded||this.addCollisionProperties(t),e.diameter=1,e.width=e.diameter,e.radius=.5,e.centerX=e.x,e.centerY=e.y,e.gx=e.x,e.gy=e.y,e.xAnchorOffset=0,e.yAnchorOffset=0,e._bumpPropertiesAdded=!0,this.circleCollision(t,e,i,o)}},{key:"bounceOffSurface",value:function(t,e){t._bumpPropertiesAdded||this.addCollisionProperties(t);var n,r,i={},o={},a={},s=t.mass||1;e.lx=e.y,e.ly=-e.x,e.magnitude=Math.sqrt(e.x*e.x+e.y*e.y),e.dx=e.x/e.magnitude,e.dy=e.y/e.magnitude,n=t.vx*e.dx+t.vy*e.dy,i.vx=n*e.dx,i.vy=n*e.dy,r=t.vx*(e.lx/e.magnitude)+t.vy*(e.ly/e.magnitude),o.vx=r*(e.lx/e.magnitude),o.vy=r*(e.ly/e.magnitude),o.vx*=-1,o.vy*=-1,a.x=i.vx+o.vx,a.y=i.vy+o.vy,t.vx=a.x/s,t.vy=a.y/s}},{key:"contain",value:function(t,e,n,r){var i=!(arguments.length<=2||void 0===n)&&n,o=arguments.length<=3||void 0===r?void 0:r;t._bumpPropertiesAdded||this.addCollisionProperties(t),void 0===e.xAnchorOffset&&(e.xAnchorOffset=0),void 0===e.yAnchorOffset&&(e.yAnchorOffset=0),void 0===t.parent.gx&&(t.parent.gx=0),void 0===t.parent.gy&&(t.parent.gy=0);var a=new Set;return t.x-t.xAnchorOffset<e.x-t.parent.gx-e.xAnchorOffset&&(i&&(t.vx*=-1),t.mass&&(t.vx/=t.mass),t.x=e.x-t.parent.gx-e.xAnchorOffset+t.xAnchorOffset,a.add("left")),t.y-t.yAnchorOffset<e.y-t.parent.gy-e.yAnchorOffset&&(i&&(t.vy*=-1),t.mass&&(t.vy/=t.mass),t.y=e.y-t.parent.gy-e.yAnchorOffset+t.yAnchorOffset,a.add("top")),t.x-t.xAnchorOffset+t.width>e.width-e.xAnchorOffset&&(i&&(t.vx*=-1),t.mass&&(t.vx/=t.mass),t.x=e.width-t.width-e.xAnchorOffset+t.xAnchorOffset,a.add("right")),t.y-t.yAnchorOffset+t.height>e.height-e.yAnchorOffset&&(i&&(t.vy*=-1),t.mass&&(t.vy/=t.mass),t.y=e.height-t.height-e.yAnchorOffset+t.yAnchorOffset,a.add("bottom")),0===a.size&&(a=void 0),a&&o&&o(a),a}},{key:"outsideBounds",value:function(t,e,n){var r=e.x,i=e.y,o=e.width,a=e.height,s=new Set;return t.x<r-t.width&&s.add("left"),t.y<i-t.height&&s.add("top"),t.x>o+t.width&&s.add("right"),t.y>a+t.height&&s.add("bottom"),0===s.size&&(s=void 0),s&&n&&n(s),s}},{key:"_getCenter",value:function(t,e,n){return void 0!==t.anchor?0!==t.anchor[n]?0:e/2:e}},{key:"hit",value:function(n,r,t,e,i,o){var c=!(arguments.length<=2||void 0===t)&&t,f=!(arguments.length<=3||void 0===e)&&e,l=i,a=arguments.length<=5||void 0===o?void 0:o,d=this.hitTestPoint.bind(this),y=this.hitTestRectangle.bind(this),p=this.hitTestCircle.bind(this),g=this.movingCircleCollision.bind(this),v=this.circleCollision.bind(this),b=this.hitTestCircleRectangle.bind(this),m=this.rectangleCollision.bind(this),x=this.circleRectangleCollision.bind(this),s=void 0,u=void 0!==n.parent,h=void 0!==r.parent;return u&&r instanceof Array||h&&n instanceof Array?function(){Array;for(var t=r.length-1;0<=t;t--){var e=r[t];(s=_(n,e))&&a&&a(s,e)}}():(s=_(n,r))&&a&&a(s),s;function _(t,e){var n,r,i,o,a,s,u=void 0!==t.parent,h=void 0!==e.parent;if(u&&h)return t.diameter&&e.diameter?(a=t,s=e,c?a.vx+a.vy!==0&&s.vx+s.vy!==0?g(a,s,l):v(a,s,f,l):p(a,s)):t.diameter&&!e.diameter?(i=t,o=e,c?x(i,o,f,l):b(i,o,l)):(n=t,r=e,c?m(n,r,f,l):y(n,r,l));if(h&&void 0!==t.x&&void 0!==t.y)return d(t,e);throw new Error("I'm sorry, "+t+" and "+e+" cannot be use together in a collision test.'")}}}]),Et)(h),spriteFrame:function(t,e){for(var n=[],r=0;r<e.length;r++){var i=new h.Texture(t,new h.Rectangle(e[r][0],e[r][1],e[r][2],e[r][3]));n.push(i)}return n}};function Rt(t){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ft(t,e){return!e||"object"!==Rt(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function It(t){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ut(t,e){return(Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yt=function(){function r(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var n=Lt.spriteFrame(h.Texture.from("bird"),[[0,0,86,60],[0,60,86,60],[0,120,86,60]]);return(e=Ft(this,It(r).call(this,n)))._setting=Object.assign({},t),e._init(),e}var t,e,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ut(t,e)}(r,h["AnimatedSprite"]),t=r,(e=[{key:"_init",value:function(){this.isFlying=!1,this._gravity=.002,this._flyHeight=80,this._initVelocity=Math.sqrt(2*this._flyHeight*this._gravity),this._isUp=!1,this.x=this._setting.startX,this.y=this._setting.startY,this.anchor.set(.5,.5),this.animationSpeed=.2,this.play(),this._animate()}},{key:"_animate",value:function(){this._readyAnime||(this._readyAnime=Ht({targets:this,y:"+=10",angle:"-=8",duration:400,loop:!0,direction:"alternate",easing:"linear"})),this._readyAnime.play()}},{key:"ready",value:function(){this.angle=0,this.x=this._setting.startX,this.y=this._setting.startY,this.play(),this._animate()}},{key:"fly",value:function(){this.isFlying=!0,this._flyStartY=this.y,this._flyStartTime=+new Date,this._readyAnime&&this._readyAnime.pause(),this._flyAnimate&&(this._flyAnimate.pause(),this._flyAnimate=null)}},{key:"flying",value:function(){if(this.isFlying){var t=new Date-this._flyStartTime,e=this._initVelocity*t-.5*this._gravity*t*t,n=this._flyStartY-e;n<=this._setting.groundY?(this.y=n,0<e&&!this._isUp?(this._flyAnimate=Ht({targets:this,angle:-20,duration:200}),this._isUp=!0):e<0&&this._isUp&&(this._flyAnimate=Ht({targets:this,angle:90,duration:300}),this._isUp=!1),this.isFlying=!0):(this.y=this._setting.groundY,this.isFlying=!1)}}},{key:"onUpdate",value:function(){this.flying()}}])&&Wt(t.prototype,e),n&&Wt(t,n),r}();function Xt(t){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qt(t,e){return!e||"object"!==Xt(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function Nt(t){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gt(t,e){return(Gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $t=function(){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=qt(this,Nt(n).call(this)))._init(t),e}var t,e,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gt(t,e)}(n,h["Container"]),t=n,(e=[{key:"_init",value:function(t){this._setting=t,this._hoseSpacingX=300,this._hoseSpacingY=290,this._numHoses=4,this._numOffscreenHoses=.5*this._numHoses,this._hoseWidth=148+this._hoseSpacingX,this.width=this._hoseWidth*this._numHoses,this.height=t.stageHeight,this.reset(),this._hoseTexture=h.Texture.from("holdback"),this.draw(this._hoseTexture)}},{key:"_placeHose",value:function(t,e,n){var r=this._setting.groundY-t.height+this._hoseSpacingY,i=this._setting.groundY-180;t.y=r+(i-r)*Math.random()>>0,t.x=this._hoseWidth*n,e.y=t.y-this._hoseSpacingY-e.height,e.x=t.x}},{key:"_resetHoses",value:function(){for(var t=this.children.length,e=0;e<this._numOffscreenHoses;e++){var n=this.getChildAt(0),r=this.getChildAt(1);this.setChildIndex(n,t-1),this.setChildIndex(r,t-1),this._placeHose(n,r,this._numOffscreenHoses+e)}for(var i=0;i<t-2*this._numOffscreenHoses;i++){this.getChildAt(i).x=this._hoseWidth*(.5*i>>0)}this.x=0,this._passThrough+=this._numOffscreenHoses,this.startMove()}},{key:"draw",value:function(t){for(var e=0;e<this._numHoses;e++){var n=Lt.spriteFrame(t,[[0,0,148,820],[148,0,148,820]]),r=new h.Sprite(n[0]),i=new h.Sprite(n[1]);this.addChild(r,i),this._placeHose(r,i,e)}}},{key:"startMove",value:function(){var t=-this._hoseWidth*this._numOffscreenHoses;this._startAnime||(this._startAnime=Ht({targets:this,x:[this.x,t],duration:4*(this.x-t),autoplay:!1,easing:"linear",complete:this._resetHoses.bind(this)})),this._moveAnime||0!=this.x||(this._moveAnime=Ht({targets:this,x:[this.x,t],duration:4*(this.x-t),autoplay:!1,easing:"linear",complete:this._resetHoses.bind(this)})),0==this.x?this._moveAnime.play():this._startAnime.play()}},{key:"stopMove",value:function(){this._moveAnime&&this._moveAnime.pause(),this._startAnime&&this._startAnime.pause()}},{key:"reset",value:function(){this.x=this._setting.startX,this._moveAnime=null,this._startAnime=null,this._passThrough=0}},{key:"checkCollision",value:function(t,e){return!!Lt.bump.hit(t,this.children,!0,!1,!0,e||function(){})}},{key:"calcPassThrough",value:function(t){var e=0;0<(t=-this.x+t)&&(e+=t/this._hoseWidth+.5>>0);return e+=this._passThrough}},{key:"onUpdate",value:function(){}}])&&Dt(t.prototype,e),r&&Dt(t,r),n}();function zt(t){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zt(t,e){return!e||"object"!==zt(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function Qt(t){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jt(t,e){return(Jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Kt=function(){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=Zt(this,Qt(n).call(this)))._init(t),e}var t,e,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jt(t,e)}(n,h["Container"]),t=n,(e=[{key:"_init",value:function(t){this._setting=Object.assign({},t),this._state="ready",this.draw()}},{key:"draw",value:function(){this._background=new y,this.addChild(this._background),this._ground=new x,this.addChild(this._ground),this._bird=new Yt({startX:200,startY:this._setting.stageHeight>>1,groundY:this._ground.y-12}),this.addChildAt(this._bird,this.getChildIndex(this._ground)),this._holdBacks=new $t({stageHeight:this._setting.stageHeight,startX:this._setting.stageWidth+200,groundY:this._ground.y}),this.addChildAt(this._holdBacks,this.getChildIndex(this._ground)-1),this._currentScoreLabel=new h.BitmapText("0",{font:"64px fnum"}),this._currentScoreLabel.letterSpacing=14,this._currentScoreLabel.x=this._setting.stageWidth-this._currentScoreLabel.width>>1,this._currentScoreLabel.y=180,this.addChild(this._currentScoreLabel)}},{key:"ready",value:function(){this._state="ready",this.score=0,this._currentScoreLabel.text=0,this._currentScoreLabel.visible=!0,this._bird.ready(),this._holdBacks.reset()}},{key:"startGame",value:function(){this._state="playing",this._holdBacks.startMove()}},{key:"gameOver",value:function(){"over"!=this._state&&(this._state="over",this._bird.gotoAndStop(0),this._holdBacks.stopMove(),this._currentScoreLabel.visible=!1,this.emit("gameover",this.score||0))}},{key:"birdFly",value:function(){this._bird.fly()}},{key:"testHit",value:function(){var t=this;"playing"==this._state&&(this._bird.isFlying?(this.score=this.calcScore(),this._currentScoreLabel.text=this.score,this._holdBacks.checkCollision(this._bird,function(){console.log("hit2~~"),t.gameOver()})&&(console.log("hit~~"),this.gameOver())):this.gameOver())}},{key:"calcScore",value:function(){var t=this._holdBacks.calcPassThrough(this._bird.x);return this.score=t}},{key:"onUpdate",value:function(t){this.testHit(),this._background.onUpdate(t),this._ground.onUpdate(t),this._bird.onUpdate(t),this._holdBacks.onUpdate(t)}}])&&Vt(t.prototype,e),r&&Vt(t,r),n}();function te(t){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ne(t,e){return!e||"object"!==te(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function re(t){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ie(t,e){return(ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var oe=function(){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=ne(this,re(n).call(this)))._init(t),e}var t,e,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ie(t,e)}(n,h["Container"]),t=n,(e=[{key:"_init",value:function(t){this._setting=t,this._textureBase=h.Texture.from("over"),this.visible=!1,this.draw()}},{key:"draw",value:function(){var t=Lt.spriteFrame(this._textureBase,[[0,0,590,298],[0,298,508,158],[590,0,290,176],[590,176,290,176]]),e=new h.Sprite(t[0]);e.name="board",this._board=e;var n=new h.Sprite(t[1]);n.name="gameover",this._gameover=n;var r=new h.Sprite(t[2]);r.name="startBtn",r.interactive=!0,r.buttonMode=!0,this._startBtn=r;var i=new h.Sprite(t[3]);i.name="gradeBtn",this._gradeBtn=i;var o=new h.BitmapText("0",{font:"32px fnum"});o.letterSpacing=14,o.name="scoreLabel",this._scoreLabel=o;var a=new h.BitmapText("0",{font:"32px fnum"});a.name="bestLabel",a.letterSpacing=14,this._bestLabel=a;var s=new h.Container;s.name="whiteMask",s.width=this._setting.stageWidth,s.height=this._setting.stageHeight,s.alpha=0;var u=new h.Graphics;u.beginFill(16777215),u.drawRect(0,0,this._setting.stageWidth,this._setting.stageHeight),u.endFill(),s.addChild(u),this._whiteMask=s,e.x=this._setting.stageWidth-e.width>>1,e.y=this._setting.stageHeight-e.height>>1,n.x=this._setting.stageWidth-n.width>>1,n.y=e.y-n.height-20,r.x=e.x-5,r.y=e.y+e.height+20>>0,i.x=r.x+r.width+20>>0,i.y=r.y,o.x=e.x+e.width-140>>0,o.y=e.y+90,a.x=o.x,a.y=o.y+105,this.addChild(n,e,r,i,o,a,s),this.initEvents()}},{key:"initEvents",value:function(){var e=this;this._startBtn.on("pointerdown",function(t){t.stopPropagation(),e.fireRestart()})}},{key:"fireRestart",value:function(){this.emit("restart")}},{key:"show",value:function(t,e){this.visible=!0,this._scoreLabel.text=t,this._bestLabel.text=e,this._whiteMask.alpha=1,Ht.timeline({easing:"linear",duration:700}).add({targets:this._gameover,alpha:1,duration:100}).add({targets:[this._board,this._scoreLabel,this._bestLabel],alpha:1,y:"-=150",duration:400,easing:"easeOutBack"},200).add({targets:[this._startBtn,this._gradeBtn],alpha:1,duration:100},300).add({targets:this._whiteMask,alpha:0,duration:400},0)}},{key:"hide",value:function(){this.visible=!1,this._scoreLabel.text=99,this._bestLabel.text=99,this._gameover.alpha=0,this._scoreLabel.alpha=0,this._bestLabel.alpha=0,this._startBtn.alpha=0,this._gradeBtn.alpha=0,this._board.y+=150,this._scoreLabel.y+=150,this._bestLabel.y+=150}},{key:"onUpdate",value:function(){}}])&&ee(t.prototype,e),r&&ee(t,r),n}();function ae(t){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ue(t,e){return!e||"object"!==ae(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function he(t){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ce(t,e){return(ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fe=function(){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=ue(this,he(n).call(this)))._init(t),e}var t,e,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ce(t,e)}(n,h["Container"]),t=n,(e=[{key:"_init",value:function(t){this._textureBase=h.Texture.from("ready"),this._setting=t,this.draw()}},{key:"draw",value:function(){var t=Lt.spriteFrame(this._textureBase,[[0,0,508,158],[0,158,286,246]]),e=new h.Sprite(t[0]),n=new h.Sprite(t[1]);n.x=this._setting.stageWidth-n.width>>1,n.y=this._setting.stageHeight-n.height+40>>1,e.x=this._setting.stageWidth-e.width>>1,e.y=n.y-e.height>>0,this.addChild(n,e)}},{key:"onUpdate",value:function(){}}])&&se(t.prototype,e),r&&se(t,r),n}();function le(t){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function de(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ye(t,e){return!e||"object"!==le(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function pe(t){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ge(t,e){return(ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}new(function(){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=ye(this,pe(n).call(this,Object.assign(t,{width:i,height:o}))))._init(!t.view),e}var t,e,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ge(t,e)}(n,h["Application"]),t=n,(e=[{key:"_init",value:function(t){var n=this;this.state="ready",this.loader.add(u),this.loader.onProgress.add(function(t,e){return n.onProgress}),this.loader.load(this.draw.bind(this)),this.view.style="position: absolute; width: ".concat(a,"px; height: ").concat(s,"px;"),t&&document.body.appendChild(this.view)}},{key:"draw",value:function(){var t={stageWidth:i,stageHeight:o};this._mainScene=new Kt(t),this._gameOverScene=new oe(t),this._gameReadyScene=new fe(t),this.stage.addChild(this._mainScene,this._gameReadyScene,this._gameOverScene),this.initEvent(),this.gameReady()}},{key:"initEvent",value:function(){var e=this;this.stage.interactive=!0,this.stage.on("pointerdown",function(){"over"!=e.state&&("ready"==e.state&&e.startGame(),e.birdFly())}),this._gameOverScene.on("restart",function(){e.gameReady()}),this._mainScene.on("gameover",function(t){e.gameOver(t)}),this.ticker.add(this.onUpdate.bind(this))}},{key:"birdFly",value:function(){this._mainScene.birdFly()}},{key:"startGame",value:function(){this.state="playing",this._gameReadyScene.visible=!1,this._mainScene.startGame()}},{key:"gameReady",value:function(){this.state="ready",this._gameOverScene.hide(),this.score=0,this._mainScene.ready(),this._gameReadyScene.visible=!0}},{key:"gameOver",value:function(t){this.state="over";var e=this.saveBestScore(t);this._gameOverScene.show(t,e)}},{key:"saveBestScore",value:function(t){var e=0;return window.localStorage&&(e=parseInt(window.localStorage.getItem("pixijs-flappy-best-score"))||0),e<t&&(e=t,window.localStorage.setItem("pixijs-flappy-best-score",t)),e}},{key:"onProgress",value:function(t){console.log("loading..",t.progress,"%")}},{key:"onUpdate",value:function(t){this._mainScene.onUpdate(t),this._gameOverScene.onUpdate(t),this._gameReadyScene.onUpdate(t)}},{key:"onResize",value:function(){}}])&&de(t.prototype,e),r&&de(t,r),n}())({})}]);